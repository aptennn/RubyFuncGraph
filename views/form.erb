<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>3D Построение графика</title>
  <style>
      body { font-family: sans-serif; padding: 30px; background: #f4f4f4; }
      input[type="text"] { width: 400px; padding: 8px; }
      button { padding: 10px 20px; margin-top: 10px; margin-right: 10px; }
      img { margin-top: 20px; border: 1px solid #ccc; }
  </style>
</head>
<body>
<h1>3D-график функции</h1>

<form method="POST" action="/submit">
  <label>Введите функцию от x и y (например: <code>sin(sqrt(x**2 + y**2))</code>):</label><br>
  <input type="text" name="user_input" value="<%= @function %>"><br>

  <button type="submit" name="action" value="function">График</button>
  <button type="submit" name="action" value="derivative">Производная по x</button>
  <button type="submit" name="action" value="integral">Интеграл по x</button>
</form>

<% if @error %>
  <p style="color: red;"><%= @error %></p>
<% end %>

<% if @graph_path %>
  <h3>Результат:</h3>
  <img src="<%= @graph_path %>" alt="3D график">
<% end %>
</body>
</html>
